{% comment %}
  Recently Viewed Products - App Embed
  Tüm temalarda çalışır. Theme Settings > App embeds'den etkinleştirin.
  Checkout sayfalarında otomatik devre dışıdır.
{% endcomment %}
<div
  id="recently-viewed-app-embed"
  class="recently-viewed-embed"
  data-position="{{ block.settings.position }}"
  data-title="{{ block.settings.title | escape }}"
  data-vertical="{{ block.settings.vertical_position }}"
  data-max-products="{{ block.settings.max_products }}"
  data-button-color="{{ block.settings.button_color }}"
  data-button-hover-color="{{ block.settings.button_hover_color }}"
  data-text-size="{{ block.settings.text_size }}"
  data-text-color="{{ block.settings.text_color }}"
  data-text-background-color="{{ block.settings.text_background_color }}"
  data-text-font-weight="{{ block.settings.text_font_weight }}"
  data-trigger-left-box-shadow="{{ block.settings.trigger_left_box_shadow | escape }}"
  data-trigger-right-box-shadow="{{ block.settings.trigger_right_box_shadow | escape }}"
  data-slider-background-color="{{ block.settings.slider_background_color }}"
  data-trigger-slider-box-shadow="{{ block.settings.trigger_slider_box_shadow | escape }}"
  data-product-id="{% if product %}{{ product.id }}{% endif %}"
  data-product-title="{% if product %}{{ product.title | escape }}{% endif %}"
  data-product-image="{% if product %}{{ product.featured_image | image_url: width: 300 }}{% endif %}"
  data-product-url="{% if product %}{{ product.url }}{% endif %}"
  data-product-price="{% if product %}{{ product.price | money_without_currency }}{% endif %}"
  style="display: none;"
  {{ block.shopify_attributes }}
></div>

{% schema %}
{
  "name": "Recently Viewed Products",
  "target": "body",
  "stylesheet": "recently-viewed-embed.css",
  "javascript": "recently-viewed-embed.js",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Widget title",
      "default": "Recently Viewed"
    },
    {
      "type": "select",
      "id": "position",
      "label": "Position",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "right", "label": "Right" }
      ],
      "default": "right"
    },
    {
      "type": "range",
      "id": "vertical_position",
      "min": 10,
      "max": 90,
      "step": 5,
      "unit": "%",
      "label": "Vertical position",
      "default": 50
    },
    {
      "type": "range",
      "id": "max_products",
      "min": 3,
      "max": 15,
      "step": 1,
      "label": "Max products to show",
      "default": 5
    },
    {
      "type": "color",
      "id": "button_color",
      "label": "Button Color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "button_hover_color",
      "label": "Button Hover Color",
      "default": "#333333"
    },
    {
      "type": "range",
      "id": "text_size",
      "min": 10,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Text Size",
      "default": 14
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#333333"
    },
    {
      "type": "color",
      "id": "text_background_color",
      "label": "Text Background Color",
      "default": "#ffffff"
    },
    {
      "type": "select",
      "id": "text_font_weight",
      "label": "Text Font Weight",
      "options": [
        { "value": "normal", "label": "Normal" },
        { "value": "500", "label": "Medium" },
        { "value": "600", "label": "Semi Bold" },
        { "value": "bold", "label": "Bold" },
        { "value": "700", "label": "700" }
      ],
      "default": "bold"
    },
    {
      "type": "text",
      "id": "trigger_left_box_shadow",
      "label": "Trigger Left Box Shadow",
      "default": "6px -5px 9px 0 rgba(0, 0, 0, 0.2)",
      "info": "CSS box-shadow value when position is left"
    },
    {
      "type": "text",
      "id": "trigger_right_box_shadow",
      "label": "Trigger Right Box Shadow",
      "default": "-6px -5px 9px 0 rgba(0, 0, 0, 0.2)",
      "info": "CSS box-shadow value when position is right"
    },
    {
      "type": "color",
      "id": "slider_background_color",
      "label": "Slider Background Color",
      "default": "#f5f5f5"
    },
    {
      "type": "text",
      "id": "trigger_slider_box_shadow",
      "label": "Trigger Slider Box Shadow",
      "default": "0 4px 12px rgba(0, 0, 0, 0.15)",
      "info": "CSS box-shadow for the trigger/slider bar"
    }
  ]
}
{% endschema %}
